{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["const fs = require('fs')\nconst path = require(\"path\")\nconst logTree = require(\"console-log-tree\")\n\nclass logDirTree {\n  constructor() {\n    this.setting = {}\n  }\n\n  parse(filepath, getStat = true) {\n    let realPath\n    try {\n      realPath = fs.realpathSync(filepath)\n    } catch (e) {\n      return console.error(e)\n    }\n\n    return {\n      name: filepath,\n      children: this.getDirTree(filepath, getStat)\n    }\n  }\n\n  log(filepath) {\n    logTree.log(this.parse(filepath, false))\n  }\n\n\n  getDirTree(filepath, getStat = true) {\n    const children = fs.readdirSync(filepath)\n    let arr = []\n    children.forEach((filename) => {\n      const pathNow = path.join(filepath, filename)\n      const stat = fs.statSync(pathNow)\n\n      let obj = {}\n\n      if (stat.isDirectory()) {\n        obj.name = filename\n        obj.children = this.getDirTree(pathNow)\n      }\n\n      if (stat.isFile()) {\n        obj.name = filename\n      }\n\n\n      arr.push(getStat ? Object.assign(stat, obj) : obj)\n    })\n\n    return arr\n  }\n}\n\n\nmodule.exports = new logDirTree()\n"],"names":["fs","require","path","logTree","logDirTree","setting","filepath","getStat","realPath","realpathSync","e","console","error","name","children","getDirTree","log","parse","readdirSync","arr","forEach","filename","pathNow","join","stat","statSync","obj","isDirectory","isFile","push","Object","assign","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,IAAME,OAAO,GAAGF,OAAO,CAAC,kBAAD,CAAvB;;IAEMG;;;wBACU;;;SACPC,OAAL,GAAe,EAAf;;;;;0BAGIC,UAA0B;UAAhBC,OAAgB,uEAAN,IAAM;UAC1BC,QAAJ;;UACI;QACFA,QAAQ,GAAGR,EAAE,CAACS,YAAH,CAAgBH,QAAhB,CAAX;OADF,CAEE,OAAOI,CAAP,EAAU;eACHC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAP;;;aAGK;QACLG,IAAI,EAAEP,QADD;QAELQ,QAAQ,EAAE,KAAKC,UAAL,CAAgBT,QAAhB,EAA0BC,OAA1B;OAFZ;;;;wBAMED,UAAU;MACZH,OAAO,CAACa,GAAR,CAAY,KAAKC,KAAL,CAAWX,QAAX,EAAqB,KAArB,CAAZ;;;;+BAISA,UAA0B;;;UAAhBC,OAAgB,uEAAN,IAAM;UAC7BO,QAAQ,GAAGd,EAAE,CAACkB,WAAH,CAAeZ,QAAf,CAAjB;UACIa,GAAG,GAAG,EAAV;MACAL,QAAQ,CAACM,OAAT,CAAiB,UAACC,QAAD,EAAc;YACvBC,OAAO,GAAGpB,IAAI,CAACqB,IAAL,CAAUjB,QAAV,EAAoBe,QAApB,CAAhB;YACMG,IAAI,GAAGxB,EAAE,CAACyB,QAAH,CAAYH,OAAZ,CAAb;YAEII,GAAG,GAAG,EAAV;;YAEIF,IAAI,CAACG,WAAL,EAAJ,EAAwB;UACtBD,GAAG,CAACb,IAAJ,GAAWQ,QAAX;UACAK,GAAG,CAACZ,QAAJ,GAAe,KAAI,CAACC,UAAL,CAAgBO,OAAhB,CAAf;;;YAGEE,IAAI,CAACI,MAAL,EAAJ,EAAmB;UACjBF,GAAG,CAACb,IAAJ,GAAWQ,QAAX;;;QAIFF,GAAG,CAACU,IAAJ,CAAStB,OAAO,GAAGuB,MAAM,CAACC,MAAP,CAAcP,IAAd,EAAoBE,GAApB,CAAH,GAA8BA,GAA9C;OAhBF;aAmBOP,GAAP;;;;;;;AAKJa,MAAM,CAACC,OAAP,GAAiB,IAAI7B,UAAJ,EAAjB"}